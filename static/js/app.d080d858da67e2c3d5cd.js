webpackJsonp([2],{"1LOU":function(t,e){},"2AFH":function(t,e){},"4CoC":function(t,e){},"7Yyl":function(t,e){},N6l0:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("kV13"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App"},s,!1,function(t){a("2AFH")},null,null).exports,i=a("HE+B"),l={name:"Home",data:function(){return{flag:!1,show:!1}},mounted:function(){null!=localStorage.getItem("admin")&&(this.show=!0)},methods:{mouseOver:function(){this.flag=!0},mouseLeave:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.flag=!1},1e3)})},signout:function(){localStorage.removeItem("admin"),this.$message("已退出登录"),this.$router.push("/login")},dianji:function(){this.$router.push("/login")}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("div",{staticClass:"lodd"},[t._m(0),t._v(" "),a("ul",[t.show?a("li",{staticClass:"li",on:{mouseleave:t.mouseLeave,mouseover:t.mouseOver}},[a("i",{staticClass:"el-icon-user-solid"}),t._v(" "),a("span",[t._v("欢迎 admin")]),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom"})]):a("li",{staticClass:"li",on:{click:t.dianji,mouseleave:t.mouseLeave,mouseover:t.mouseOver}},[a("i",{staticClass:"el-icon-user-solid"}),t._v(" "),a("span",[t._v("欢迎")]),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"p1",on:{click:t.signout}},[a("i",{staticClass:"el-icon-caret-right"}),t._v("\n        退出登录\n      ")])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"left"},[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},[a("el-menu-item",{attrs:{index:"/index/home"}},[a("i",{staticClass:"el-icon-s-data"}),t._v("首页\n          ")]),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-fold"}),t._v(" "),a("span",[t._v("商品")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/index/goodslist"}},[t._v("商品管理")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/index/categorylist"}},[t._v("品类管理")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",[t._v("订单")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/index/orderlist"}},[t._v("订单管理")])],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),t._v(" "),a("span",[t._v("用户")])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/index/userlist"}},[t._v("用户列表")])],1)],2)],1)],1)],1),t._v(" "),a("div",{staticClass:"rigth"},[a("router-view")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lodd-left"},[e("b",[this._v("HAPPY")]),this._v("\n      HAPPY\n    ")])}]};var u=a("C7Lr")(l,r,!1,function(t){a("7Yyl")},"data-v-53d05844",null).exports,c=a("a3Yh"),d=a.n(c),v=a("rVsN"),m=a.n(v),p=a("I29D"),h=a.n(p),f={getData:function(t){var e=this,a=t.url,n=t.data,s=void 0===n?{}:n,o=t.method,i=void 0===o?"get":o;return new m.a(function(t,n){e._getReq(a,i,s,t,n)})},_getReq:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],s=arguments[4],o="get"==e?"params":"data";h()(d()({url:t,method:e},o,a)).then(function(t){n(t)}).catch(function(){s()})}},_=f.getData({url:"/api/statistic/base_count.do",method:"get"}),g=f.getData({url:"/api/product/list.do",method:"get"}),b={name:"Home",data:function(){return{obj:{}}},mounted:function(){this.HomeRight()},methods:{HomeRight:function(){var t=this;_.then(function(e){console.log(e.data),t.obj=e.data.data})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",[t._v(t._s(this.$route.meta.title))]),t._v(" "),a("div",{staticClass:"home-box"},[a("div",{staticClass:"itme"},[a("p",[t._v(t._s(this.obj.orderCount))]),t._v(" "),t._m(0)]),t._v(" "),a("router-link",{attrs:{lag:""}}),t._v(" "),a("div",{staticClass:"itme"},[a("p",[t._v(t._s(this.obj.productCount))]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"itme"},[a("p",[t._v(t._s(this.obj.userCount))]),t._v(" "),t._m(2)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"el-icon-user-solid"}),this._v(" "),e("span",[this._v("用户总数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"el-icon-s-fold"}),this._v(" "),e("span",[this._v("商品总数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"el-icon-document-checked"}),this._v(" "),e("span",[this._v("订单总数")])])}]};var x=a("C7Lr")(b,C,!1,function(t){a("4CoC")},"data-v-91e25024",null).exports,w={props:{total:Number},data:function(){return{currentPage:1}},methods:{handleCurrentChange:function(t){console.log(t),this.$emit("paginvalue",t)}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)},staticRenderFns:[]};var y=a("C7Lr")(w,$,!1,function(t){a("1LOU")},"data-v-2b1dbaf7",null).exports,k={name:"Goodslist",components:{Pagination:y},data:function(){return{input:"",value:"",options:[{value:"1",label:"按商品id查询"},{value:"2",label:"按商品名称查询"}],list:[],total:0}},computed:{},mounted:function(){this.goodslist()},methods:{query:function(){var t,e=this;if(1==this.value){console.log("按id查询");var a={productId:this.input};if((t=a,f.getData({url:"/api/product/search.do?productId="+t.productId,method:"get"})).then(function(t){console.log(t.data.data),e.list=t.data.data.list,e.total=t.data.data.total}),""==this.input)return this.list=[],this.total=0,!1}else{if(console.log("按商品名查询"),function(t){return f.getData({url:"/api/product/search.do?productName="+t.productName,method:"get"})}({productName:this.input}).then(function(t){console.log(t.data.data),e.list=t.data.data.list,e.total=t.data.data.total}),""==this.input)return this.list=[],this.total=0,!1}this.goodslist()},goodslist:function(){var t=this;g.then(function(e){console.log(e.data.data.total),t.total=e.data.data.total,t.list=e.data.data.list})},diji:function(t,e){var a=this,n="";n=1==this.list[e].status?"下架":"上架",this.$confirm("确认要"+n+"该商品吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var n;1==a.list[e].status?a.list[e].status=2:a.list[e].status=1,a.$message({type:"success",message:"修改产品状态成功"}),(n={productId:t.id,status:a.list[e].status},f.getData({url:"/api/product/set_sale_status.do?productId="+n.productId+"&status="+n.status,method:"get"})).then(function(n){0!=n.data.status&&1!=n.data.status&&2!=n.data.status||(a.goodslist(),console.log(t.status)),console.log(a.list[e].status)})}).catch(function(){a.$message("已取消该操作")})},Pagination:function(t){var e,a=this;console.log(t,"父组件接收"),(e=t,f.getData({url:"/api/product/list.do?pageNum="+e,method:"post"})).then(function(t){console.log(t.data.data,"data数据"),t=t.data.data,a.list=t.list})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodslist"},[a("div",{staticClass:"goodstitle"},[a("h1",[t._v(t._s(this.$route.meta.title))]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("添加商品")])],1),t._v(" "),a("div",{staticClass:"goodsseek"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),a("el-button",{on:{click:t.query}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"goodscontent"},[a("table",{staticClass:"table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.list,function(e,n){return a("tr",[a("td",{attrs:{width:"5%"}},[t._v(t._s(e.id))]),t._v(" "),a("td",{attrs:{width:"45%"}},[a("p",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.subtitle))])]),t._v(" "),a("td",{attrs:{width:"10%"}},[t._v(t._s(e.price))]),t._v(" "),a("td",{attrs:{width:"15%"}},[a("span",[t._v(t._s(1==e.status?"在售":"已下架"))]),t._v(" "),1==e.status?a("p",{staticClass:"p1",on:{click:function(a){return t.diji(e,n)}}},[t._v("下架")]):a("p",{staticClass:"p1",on:{click:function(a){return t.diji(e,n)}}},[t._v("上架")])]),t._v(" "),t._m(1,!0)])}),0)])]),t._v(" "),a("Pagination",{attrs:{total:t.total},on:{paginvalue:t.Pagination}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[t._v("id")]),t._v(" "),a("th",{attrs:{width:"60%"}},[t._v("信息")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("价格")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("状态")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{width:"15%"}},[e("span",[this._v("查看")]),this._v(" "),e("span",[this._v("编辑")])])}]};var P=a("C7Lr")(k,D,!1,function(t){a("YIev")},"data-v-5c969771",null).exports,I={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    品类管理\n")])},staticRenderFns:[]};var S=a("C7Lr")({name:"Categorylist"},I,!1,function(t){a("kYI+")},"data-v-59fd5db0",null).exports,E=a("lC5x"),F=a.n(E),L=a("J0Oq"),N=a.n(L),H={name:"Orderlist",components:{Pagination:y},data:function(){return{list:[],total:0,input:"",value:"",options:[{value:"选项1",label:"按订单号查询"}]}},mounted:function(){this.Orderlist()},methods:{Orderlist:function(){var t=this;return N()(F.a.mark(function e(){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getData({url:"/api/order/list.do",method:"post"});case 2:a=e.sent,console.log(a.data.data.list),t.list=a.data.data.list,t.total=a.data.data.total;case 6:case"end":return e.stop()}},e,t)}))()},Pagination:function(t){var e,a=this;console.log(t,"父组件接收"),(e=t,f.getData({url:"/api/order/list.do?pageNum="+e,method:"post"})).then(function(t){console.log(t.data.data,"data数据"),t=t.data.data,a.list=t.list})}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Orderlist"},[a("div",{staticClass:"Ordertitle"},[a("h1",[t._v(t._s(this.$route.meta.title))])]),t._v(" "),a("div",{staticClass:"Orderseek"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),a("el-button",[t._v("查询")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"orderNo",label:"订单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiverName",label:"收件人",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"statusDesc",label:"订单状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payment",label:"订单总价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.payment))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateFormat")(e.row.createTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"}},[a("a",{attrs:{href:""}},[a("el-button",{attrs:{type:"text"}},[t._v("查看")])],1)])],1),t._v(" "),a("Pagination",{attrs:{total:t.total},on:{paginvalue:t.Pagination}})],1)},staticRenderFns:[]};var R=a("C7Lr")(H,O,!1,function(t){a("N6l0")},"data-v-2bc249ee",null).exports,j={name:"Userlist",components:{Pagination:y},data:function(){return{list:[],total:0}},mounted:function(){this.userlist()},methods:{userlist:function(){var t=this;return N()(F.a.mark(function e(){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getData({url:"/api/user/list.do",method:"post"});case 2:a=e.sent,console.log(a.data.data),t.list=a.data.data.list,t.total=a.data.data.total;case 6:case"end":return e.stop()}},e,t)}))()},Pagination:function(t){var e,a=this;console.log(t,"父组件接收"),(e=t,f.getData({url:"/api/user/list.do?pageNum="+e,method:"post"})).then(function(t){console.log(t.data.data,"data数据"),t=t.data.data,a.list=t.list})}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userlist"},[a("div",{staticClass:"usertitle"},[a("h1",[t._v(t._s(this.$route.meta.title))])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateFormat")(e.row.createTime)))]}}])})],1),t._v(" "),a("Pagination",{attrs:{total:t.total},on:{paginvalue:t.Pagination}})],1)},staticRenderFns:[]};var T=a("C7Lr")(j,Y,!1,function(t){a("yy/r")},"data-v-4d6b9e65",null).exports,M={name:"Login",data:function(){return{form:{username:"admin",password:"admin"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{onSubmit:function(t){var e,a=this;(e=this.form,f.getData({url:"/api/user/login.do?username="+e.username+"&password="+e.password,method:"post"})).then(function(t){console.log(t),0==t.data.status?(localStorage.setItem("admin",a.form.username),a.$router.push("/"),a.$message(t.data.msg)):a.$message(t.data.msg)})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("登录")])],1)],1)],1)},staticRenderFns:[]};var A=a("C7Lr")(M,q,!1,function(t){a("up/0")},"data-v-32777e9c",null).exports;n.default.use(i.a);var B=new i.a({routes:[{path:"/index",name:"Index",component:u,children:[{path:"home",component:x,meta:{title:"首页"}},{path:"goodslist",component:P,meta:{title:"商品管理"}},{path:"orderlist",component:R,meta:{title:"订单管理"}},{path:"categorylist",component:S,meta:{title:"品类管理"}},{path:"userlist",component:T,meta:{title:"用户列表"}},{path:"/404",component:function(){return a.e(0).then(a.bind(null,"thLP"))},meta:{title:"404"}}]},{path:"/login",name:"Login",component:A,meta:{title:"登录"}},{path:"/",redirect:"/index"}]}),U=a("bQIR"),J=a.n(U),V=(a("gFLX"),{install:function(t,e){function a(t){parseInt(t)<10&&(t="0"+t)}t.prototype.formatDate=function(t){var e=new Date(t),n=e.getFullYear(),s=e.getMonth()+1,o=e.getDate(),i=e.getHours(),l=e.getMinutes(),r=e.getSeconds();return n+"-"+a(s)+"-"+a(o)+"-"+a(i)+"-"+a(l)+"-"+a(r)},t.filter("formatDate",function(t){var e=new Date(t),n=e.getFullYear(),s=e.getMonth()+1,o=e.getDate(),i=e.getHours(),l=e.getMinutes(),r=e.getSeconds();return n+"-"+a(s)+"-"+a(o)+a(i)+"-"+a(l)+"-"+a(r)})}});n.default.use(J.a),n.default.prototype.$axios=h.a,n.default.config.productionTip=!1,n.default.use(V),new n.default({el:"#app",router:B,components:{App:o},template:"<App/>"}),B.beforeEach(function(t,e,a){console.log("路有钩子跳转"),document.title="Mmail后端管理系统 | "+t.meta.title;var s=localStorage.getItem("admin");s||"/login"===t.path?t.meta.permission?"admin"===s?a():a("/403"):0===t.matched.length?a("/404"):navigator.userAgent.indexOf("MSIE")>-1&&"/edit"===t.path?n.default.prototype.$alert("vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看","浏览器不兼容通知",{confirmButtonText:"确定"}):a():a("/login")}),n.default.filter("dateFormat",function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1+"").padStart(2,"0")+"-"+(e.getDate()+"").padStart(2,"0")+(e.getHours()+"").padStart(2,"0")+"-"+(e.getMinutes()+"").padStart(2,"0")+"-"+(e.getSeconds()+"").padStart(2,"0")})},YIev:function(t,e){},gFLX:function(t,e){},"kYI+":function(t,e){},"up/0":function(t,e){},"yy/r":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d080d858da67e2c3d5cd.js.map